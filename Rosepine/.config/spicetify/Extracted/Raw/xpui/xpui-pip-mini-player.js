"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[1963],{65231:(e,i,s)=>{s.r(i),s.d(i,{PiPMiniPlayer:()=>w});var n=s(59496),t=s(84875),r=s.n(t),o=s(6285),a=s(40930),c=s(78537),d=s(88354);var l=s(83699),m=s(65791),u=s(97582),v=s(80026),x=s(13189),f=s(5991),p=s(61664),j=s(34718),g=s(11592),y=s(51087);var h=s(4008),z=s(2812);const b="transparent";var S=s(84061),Z=s(4637);const w=n.memo((()=>{const{item:e,context:i}=(0,p.x)()??{},s=(0,n.useMemo)((()=>(0,u.o)(e?.images??void 0,{desiredSize:640})),[e?.images,640]),t=(0,l.b)(s,b),w=(()=>{const e=(0,h.zY)(),i=(e?.innerWidth??0)>=340,s=(0,z.p)();return i&&s})();((e,i)=>{const s=(0,y.Y)((e=>e?.nextItems?.[0]),((e,i)=>e?.uri===i?.uri)),t=(0,n.useMemo)((()=>(0,u.o)(s?.images??void 0,{desiredSize:e})),[s?.images,e]);(0,l.b)(t,i)})(640,b);const{ref:P,isHovering:k}=(()=>{const e=(0,n.useRef)(null),[i,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const i=e.current;if(!i)return;const n=()=>s(!0),t=()=>s(!1);return i.addEventListener("mouseenter",n),i.addEventListener("mouseleave",t),()=>{i.removeEventListener("mouseenter",n),i.removeEventListener("mouseleave",t)}})),{ref:e,isHovering:i}})(),{setVideoPlayerUIFlag:E}=(0,j.l)();if((0,n.useEffect)((()=>{E(g.x.documentPip,!0)}),[E]),!e||!i)return null;const N={"--background-color":t},C=(0,m.iw)(e)&&("video"===e.mediaType||"mixed"===e.mediaType);return(0,Z.jsxs)("div",{className:r()("encore-dark-theme",S.Z.container),style:N,children:[(0,Z.jsxs)("div",{className:r()(S.Z.media,{[S.Z.mediaBackground]:!C}),ref:P,"data-testid":"pip-hover-element",children:[(0,Z.jsx)("div",{className:S.Z.mediaContent,id:"document-pip-main-container",children:!C&&(0,Z.jsx)(d.Ee,{className:S.Z.coverArt,src:s,loading:"eager",children:(0,Z.jsx)(c.t,{type:e.type})})}),(0,Z.jsxs)("div",{className:r()("encore-over-media-set",S.Z.controls,{[S.Z.showControls]:k}),children:[(0,Z.jsx)(v.B,{uri:e.uri}),w?(0,Z.jsx)(f.FP,{iconSize:16}):(0,Z.jsx)(f.P4,{iconSize:16}),(0,Z.jsx)(f.Wu,{iconSize:16}),(0,Z.jsx)(f.IF,{iconSize:24}),(0,Z.jsx)(f.C$,{iconSize:16}),w?(0,Z.jsx)(f.Of,{iconSize:16}):(0,Z.jsx)(f.$Z,{iconSize:16}),(0,Z.jsx)(o.o,{iconOnly:a.d,size:"small"})]})]}),(0,Z.jsx)(x._,{isNowPlayingView:!0,className:S.Z.metadata,context:i,item:e,titleTypeVariant:"celloCanon",subtitleTypeVariant:"mesto"})]})}))}}]);
//# sourceMappingURL=xpui-pip-mini-player.js.map